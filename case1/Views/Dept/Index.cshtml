@{ 
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>部门页面</title>
    <link href="~/Content/layui.css" rel="stylesheet" />
    <link href="~/Content/zTreeStyle.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/jquery.ztree.core.min.js"></script>
   
</head>
<body>
    
    <div class="layui-header">
    <button class="layui-btn layui-btn-normal" id="getTree">获取树形结构</button>
<button id="hide" class="layui-btn layui-btn-normal">隐藏</button></div>
    <div class="layui-side" style="margin-top:50px">
        <div>
            <ul id="treeDemo" class="ztree"></ul>
        </div>
       
    </div>
  <div class="layui-body" >
      <iframe name="content" width="100%" height="100%"></iframe>
  </div>
   
    <script>
        
        var zTreeObj;
        //配置树的样式
        var setting = {
            view: {
                dblClickExpand: true,//双击节点时，是否自动展开父节点的标识
                showLine: true,//是否显示节点之间的连线
                fontCss: { 'color': 'black', 'font-weight': '300','font-size':'14px' },//字体样式函数
                selectedMulti: true //设置是否允许同时选中多个节点
            },
            check: {
                chkboxType: { "Y": "", "N": "" },
                chkStyle: "checkbox",//复选框类型
                enable: true //每个节点上是否显示 CheckBox
            },
            edit: {
                enable: true,
                editNameSelectAll: true,
                showRemoveBtn: true,
                showRenameBtn: true,
                removeTitle: "remove",
                renameTitle: "rename"
            },
            data: {
                simpleData: {//简单数据模式
                    enable: true,
                    idKey: "id",
                    pIdKey: "IPARENTID",
                    rootPId: null
                }
            } ,
            callback: {
                onClick: zTreeOnClick
            }
        };

        //点击获取树形菜单
            $("#getTree").click(function () {
                $.ajax({
                    url: "/Dept/getDeptTree",
                    dateType: "json",
                    type: "POST",
                    success: function (data) {
                        //调用layui.tree方法
                        $(document).ready(function () {
                            zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, data);
                        });
                    }
                });
            });
            
        //点击树的节点时要处理的方法
            function zTreeOnClick(event, treeId, treeNode) {
               
              //  location.href = "/Dept/Content";
                $("#treeDemo li a").attr('href', '/Dept/Content');

                
            }
    </script>
   
</body>
</html>

